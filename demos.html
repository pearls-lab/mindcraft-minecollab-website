<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Demos - Your Paper Title</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <nav>
            <div class="container">
                <h1 class="logo">Collaborating Action by Action </h1>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="leaderboard.html">Leaderboard</a></li>
                    <li><a href="demos.html">Demos</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <section class="hero small-hero">
            <div class="container">
                <h1>Task Demos</h1>
                <p>See our method in action on various tasks</p>
            </div>
        </section>

        <section class="demos-section">
            <div class="container">
                <h2>Construction Tasks</h2>
                In the construction tasks, agents are directed to build structures from procedurally generated blueprints.
                Blueprints can also be downloaded from the internet and read into our blueprint format - enabling agents to build anything from pyramids to the Eiffel Tower. 
                We choose evaluate primarily on our generated blueprints as they provide fine-grained control over task complexity, allowing us to systematically vary the depth of collaboration required---e.g. number of rooms in the interior of palace, or the amount and types of materials required for each room.
                At the beginning of each episode, agents are initialized with the blueprint, materials (e.g. stone, wood, doors, carpets) in such a way that no agent has the full resources or the expertise in terms of the types of tools that can be used to process the resources and complete the entire blueprint.
                For example, if the blueprint required a stone base and a wooden roof, one agent would be given access and the ability to manipulate stone, the other to wood.
                Agents are evaluated via an edit distance based metric that judges how close their constructed building is to the blueprint and the metric reported in the leaderboard is the average of those edit distance scores.
                
                <section class="video-section">
                    <div class="container">
                        <h3>Timelapse Video</h3>
                        <div class="video-container">
                            <div class="looping-video" data-video-id="vuBycbn35Rw"></div>
                        </div>
                    </div>
                </section>
                <section class="video-section">
                    <div class="container">
                        <h2>Demo Video</h2>
                        <div class="video-container">
                            <div class="looping-video" data-video-id="jFIWlEv6ZXo"></div>
                        </div>
                    </div>
                </section>
                <div class="container">
                    <h2>Demo Video</h2>
                    <div class="video-container">
                        <div class="looping-video" data-video-id="jFIWlEv6ZXo"></div>
                    </div>
                </div>
                    <div class="container">
                        <h3>Timelapse Video</h3>
                        <div class="video-container">
                            <!-- Fixed YouTube embed URL format -->
                            <iframe src="https://www.youtube.com/embed/vuBycbn35Rw" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen></iframe>
                    </div>

                    <div class="container">
                        <h3>Communication Showcase</h3>
                        <p>In this video, we showcase the communication between agents during the construction task. The agents talk about what resources they have, and split up the work.</p>
                        <div class="video-container">
                            <!-- Fixed YouTube embed URL format -->
                            <iframe src="https://www.youtube.com/embed/TtHg3AagACg" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen></iframe>
                        </div>
                    </div>

                    <div class="container">
                        <h3>Church Build </h3>
                        <p>In this video we show the agents building a church. </p>
                        <div class="video-container">
                            <!-- Fixed YouTube embed URL format -->
                            <iframe src="https://www.youtube.com/embed/Cpy4kQ9-bsg" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen></iframe>
                        </div>
                    </div>

                    <div class="container">
                        <h3>Failure Modes</h3>
                        <p>However, we also see a number of failure modes in the multi agent construction tasks. </p>
                        <p>Here is an example of the agents failing to build a church. One agent builds the foundation and then the other bots completely destroy it. </p>
                        <div class="video-container">
                            <!-- Fixed YouTube embed URL format -->
                            <iframe src="https://www.youtube.com/embed/nSHetOFrVPI" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen></iframe>
                        </div>
                        <div class="video-container">
                            <!-- Fixed YouTube embed URL format -->
                            <iframe src="https://www.youtube.com/embed/97Ot9ASEdkY" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen></iframe>
                        </div>
                    </div>


                </div>
            </div>
        </section>

        <section class="demos-section alt-bg">
            <div class="container">
                <h2>Cooking Tasks</h2>
                At the beginning of a cooking task episode, the agents are initialized with a goal to make a meal, e.g. they need to make cake and bread.
                The agents then need to coordinate the collection of ingredients through natural language communication (e.g. Andy collects wheat for the bread while Jill makes the cake) and combine them in a multi-step plan. 
                To assist them in collecting resources, agents are placed in a "cooking world" that possesses all of the items they need to complete the task, from livestock, to crops, to a smoker, furnace, and crafting table.
                Following a popular test of collaboration in humans, we further introduce a ``Hell's Kitchen'' variant of the cooking tasks where each agent is given the recipes for a small subset of the items they need to cook and must communicate the instructions with the other teammates.
                For example, if the task is to make a baked potato and a cake, one agent is given recipe for baked potato, but is required to bake the cake to complete the task, forcing them to ask their teammate for help in baking the potato.
                Agents are evaluated on whether are successfully able to complete the set requirements to make the recipes.
                The locations of these objects, the complexity of the recipe, and the subsets given to each agent are procedurally generated every episode.
                    <div class="container">
                        <h3>Church Build </h3>
                        <p>In this video we show the agents building a church. </p>
                        <div class="video-container">
                            <!-- Fixed YouTube embed URL format -->
                            <iframe src="https://www.youtube.com/embed/Cpy4kQ9-bsg" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen></iframe>
                        </div>
                    </div>

                    <h3>Cooking Footage and Communication Showcase</h3>
                    <p>The goal of this task is to make a golden apple and rabbit stew. </p>
                    <div class="video-container">
                        <!-- Replace with your actual video link -->
                        <iframe src="https://www.youtube.com/embed/FbNJ3cR_RWY" 
                                frameborder="0" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                allowfullscreen></iframe>
                    </div>
                    
                    <h3>Cooking Inside the House </h3>
                    <p>The goal of this task is to make a golden apple and a baked potato. You can see that they share resources to complete the task. All the items need to be present in one agents inventory for the task to be counted as successful.</p>
                    <div class="video-container">
                        <!-- Replace with your actual video link -->
                        <iframe src="https://www.youtube.com/embed/GiTGx2OfN5U" 
                                frameborder="0" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                allowfullscreen></iframe>
                    </div>
    
            </div>
        </section>

        <section class="demos-section">
            <div class="container">
                <h2>Crafting Tasks</h2>
                <p> Crafting has long been the subject of Minecraft agent research---our crafting tasks encompass the entire breadth of items that are craftable in Minecraft including clothing, furniture, and tools.  
                At the beginning of each episode, the agents are initialized with a goal (e.g. make a bookshelf), different sets of resources (e.g. books and planks), and access to a crafting recipe, that is occasionally blocked.
                To complete the task, the agents must: (1) communicate with each other what items are in their inventory; (2) share with each other the crafting recipe if necessary; and (3) give each other resources to successfully craft the item.
                To make the crafting tasks more challenging, agents are given longer crafting objectives (e.g. crafting a compass which requires putting together multiple other objects first).</p>
                    <h3>Successful Crafting Task Demo</h3>
                    <p>The goal of this task is to make a bookshelf. </p>
                    <div class="video-container">
                        <!-- Replace with your actual video link -->
                        <iframe src="https://www.youtube.com/embed/VMAyxwMKiBc" 
                                frameborder="0" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                allowfullscreen></iframe>
                    </div>
                    <h3>Failure Mode</h3>
                    <p>The agents fail at these tasks when they engage in useless chatter unrelated to their main goal. Such as this one, where they should be sharing resources but instead embark on a hopeless quest to find spiders. </p>
                    <div class="video-container">
                        <!-- Replace with your actual video link -->
                        <iframe src="https://www.youtube.com/embed/NL1annIFX2k" 
                                frameborder="0" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                allowfullscreen></iframe>
                    </div>
            </div>
        </section>

        <section class="cta-buttons">
            <div class="container">
                <div class="buttons">
                    <a href="leaderboard.html" class="btn primary-btn">View Leaderboard</a>
                    <a href="index.html" class="btn secondary-btn">Back to Home</a>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2023 Your Name/Organization. All rights reserved.</p>
        </div>
    </footer>
</body>
<script>
    // Global YouTube API callback
    function onYouTubeIframeAPIReady() {
        // Process all video containers with class 'looping-video'
        document.querySelectorAll('.looping-video').forEach(container => {
            createLoopingPlayer(container);
        });
    }

    // Function to create looping video players
    function createLoopingPlayer(container) {
        const videoId = container.getAttribute('data-video-id');
        const playerId = 'player-' + videoId;
        
        // Create a div for the player
        const playerDiv = document.createElement('div');
        playerDiv.id = playerId;
        container.appendChild(playerDiv);
        
        // Create the player
        new YT.Player(playerId, {
            height: '100%',
            width: '100%',
            videoId: videoId,
            playerVars: {
                'autoplay': 1,
                'playsinline': 1,
                'mute': 1, // Autoplay requires muting
                'controls': 1
            },
            events: {
                'onStateChange': function(event) {
                    // When video ends (state = 0), restart it
                    if (event.data === 0) {
                        event.target.seekTo(0);
                        event.target.playVideo();
                    }
                }
            }
        });
    }

    // Load YouTube API
    function initYouTubeAPI() {
        if (!document.getElementById('youtube-api')) {
            const tag = document.createElement('script');
            tag.id = 'youtube-api';
            tag.src = 'https://www.youtube.com/iframe_api';
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        }
    }

    // Initialize API when the page loads
    document.addEventListener('DOMContentLoaded', initYouTubeAPI);
</script>

</html>